(this["webpackJsonpra-11.1"]=this["webpackJsonpra-11.1"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),i=c(18),a=c.n(i),s=(c(31),c(7)),o=(c(32),c(14)),u=c(12),d=c(5),l=c.n(d),p=c(13),j=Object(u.b)("fetch/servicesFetch",function(){var e=Object(p.a)(l.a.mark((function e(t){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v()),e.prev=1,e.next=4,fetch("".concat("https://ra-11-backend.herokuapp.com/api/services"),{method:"GET",headers:{"Content-Type":"application/json"}});case 4:return(c=e.sent).ok||t(f(c.statusText)),e.next=8,c.json();case 8:r=e.sent,t(m(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(f(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()),b=Object(u.c)({name:"servicesFetch",initialState:{items:[],loading:!1,error:null},reducers:{fetchServicesRequest:function(e){e.loading=!0},fetchServicesFailure:function(e,t){e.error=t.payload.error,e.loading=!1},fetchServicesSuccess:function(e,t){e.items=t.payload,e.loading=!1}}}),h=b.actions,v=h.fetchServicesRequest,f=h.fetchServicesFailure,m=h.fetchServicesSuccess,O=b.reducer,x=Object(u.b)("fetch/serviceFetch",function(){var e=Object(p.a)(l.a.mark((function e(t){var c,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=t.dispatch)(y()),e.prev=2,e.next=5,fetch("".concat("https://ra-11-backend.herokuapp.com/api/services","/").concat(t.serviceId),{method:"GET",headers:{"Content-Type":"application/json"}});case 5:return(r=e.sent).ok||c(k(r.statusText)),e.next=9,r.json();case 9:n=e.sent,c(N(n)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),c(k(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()),S=Object(u.c)({name:"fetchService",initialState:{item:{name:"",price:"",description:""},loading:!1,error:null},reducers:{fetchServiceRequest:function(e){e.loading=!0},fetchServicesFailure:function(e,t){e.error=t.payload,e.loading=!1},fetchServiceSuccess:function(e,t){e.item.name=t.payload.name,e.item.price=t.payload.price,e.item.description=t.payload.content,e.loading=!1}}}),g=S.actions,y=g.fetchServiceRequest,k=g.fetchServiceFailure,N=g.fetchServiceSuccess,F=S.reducer,w=Object(u.b)("fetch/editService",function(){var e=Object(p.a)(l.a.mark((function e(t){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=t.dispatch)(E()),e.prev=2,e.next=5,fetch("https://ra-11-backend.herokuapp.com/api/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.editObj)});case 5:(r=e.sent).ok||c(q(r.statusText)),c(B()),c(P()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),c(q(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()),T=Object(u.c)({name:"serviceEdit",initialState:{success:!1,load:!1,err:null},reducers:{editServiceRequest:function(e){e.load=!0},editServicesFailure:function(e,t){e.err=t.payload,e.load=!1},editServiceSuccess:function(e){e.success=!0,e.load=!1},editServiceClear:function(e){e.success=!1}}}),C=T.actions,E=C.editServiceRequest,q=C.editServicesFailure,B=C.editServiceSuccess,P=C.editServiceClear,D=T.reducer,I=Object(o.b)({servicesFetch:O,serviceFetch:F,editService:D}),R=Object(u.a)({reducer:I}),L=c(9),J=c(15),V=c.n(J),G=(c(24),c(20)),W=c(16),A=c(1);function M(){return Object(A.jsx)("p",{className:"ErrorComponent",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"})}function z(e){var t={loading:!1,error:null},c=Object(r.useState)(t),n=Object(G.a)(c,2),i=n[0],a=n[1],o=Object(L.b)(),u=function(){var e=Object(p.a)(l.a.mark((function e(c){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(s.a)(Object(s.a)({},i),{},{loading:!0})),e.prev=1,e.next=4,fetch("".concat("https://ra-11-backend.herokuapp.com/api/services","/").concat(c),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 4:(r=e.sent).ok||a(Object(s.a)(Object(s.a)({},i),{},{loading:!1,error:r.statusText})),a(t),o(j(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a(Object(s.a)(Object(s.a)({},i),{},{loading:!1,error:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("li",{className:"ServiceItem",children:[i.error&&Object(A.jsx)(M,{}),Object(A.jsxs)("div",{className:"ServiceWrapperValue",children:[Object(A.jsx)("span",{className:"ServiceValue",children:e.name}),Object(A.jsxs)("span",{className:"ServiceValue",children:[e.price," \u20bd"]})]}),Object(A.jsxs)("div",{className:"ServiceListWrapperButtons",children:[Object(A.jsx)(W.b,{className:"ServiceButton",to:"/services/edit/".concat(e.id),children:"\u270e"}),Object(A.jsxs)("button",{className:"ServiceButton",onClick:function(){return u(e.id)},children:[i.loading&&Object(A.jsx)(V.a,{type:"TailSpin",color:"white",height:12,width:12}),!i.loading&&"\u2715"]})]})]},e.id)}function H(){var e=Object(L.c)((function(e){return e.servicesFetch})),t=Object(L.b)();return Object(r.useEffect)((function(){t(j(t))}),[t]),Object(A.jsxs)("ul",{className:"ServiceList",children:[e.error&&Object(A.jsx)(M,{}),e.loading&&Object(A.jsx)(V.a,{type:"TailSpin",color:"#db3948",height:50,width:50}),!e.loading&&e.items.map((function(e){return Object(A.jsx)(z,Object(s.a)({},e),e.id)}))]})}function K(){return Object(A.jsx)("div",{className:"ServicesPage",children:Object(A.jsx)(H,{})})}var Q=c(19),U=c(3);function X(e){var t=Object(L.c)((function(e){return e.editService})),c=t.success,n=t.load,i=t.err,a=Object(r.useState)({name:e.name,price:e.price,description:e.description}),o=Object(G.a)(a,2),u=o[0],d=o[1],j=Object(L.b)(),b=function(e){e.preventDefault(),d(Object(s.a)(Object(s.a)({},u),{},Object(Q.a)({},e.target.name,e.target.value)))},h=function(){var t=Object(p.a)(l.a.mark((function t(c){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),r={id:e.serviceId,name:u.name,price:u.price,content:u.description},j(w({dispatch:j,editObj:r}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(A.jsxs)("form",{className:"EditServiceForm",onSubmit:h,children:[c&&Object(A.jsx)(U.a,{to:"/services"}),Object(A.jsx)("label",{htmlFor:"NameService",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(A.jsx)("input",{id:"NameService",type:"text",className:"NameService",name:"name",value:u.name,onChange:b,required:!0}),Object(A.jsx)("label",{htmlFor:"PriceService",children:"\u0426\u0435\u043d\u0430"}),Object(A.jsx)("input",{id:"PriceService",type:"text",className:"PriceService",name:"price",value:u.price,onChange:b,required:!0}),Object(A.jsx)("label",{htmlFor:"DescriptionService",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(A.jsx)("input",{id:"DescriptionService",type:"text",className:"DescriptionService",name:"description",value:u.description,onChange:b,required:!0}),Object(A.jsxs)("div",{className:"ButtonsBlock",children:[Object(A.jsx)(W.b,{to:"/services",className:"CancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(A.jsx)("button",{type:"submit",className:"ChangeButton",children:n&&Object(A.jsx)(V.a,{type:"TailSpin",color:"white",height:15,width:15})||!n&&"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),i&&Object(A.jsx)(M,{})]})]})}function Y(e){var t=Number(e.match.params.id),c=Object(L.c)((function(e){return e.serviceFetch})),n=c.item,i=c.loading,a=c.error,s=Object(L.b)();return Object(r.useEffect)((function(){s(x({dispatch:s,serviceId:t}))}),[s,t]),Object(A.jsxs)("div",{className:"EditServicePage",children:[i&&Object(A.jsx)(V.a,{type:"TailSpin",color:"#db3948",height:50,width:50}),a&&Object(A.jsx)(M,{}),(n.name,n.price,n.description&&!i&&Object(A.jsx)(X,{serviceId:t,name:n.name,price:n.price,description:n.description}))]})}var Z=function(){return Object(A.jsx)(L.a,{store:R,children:Object(A.jsx)(W.a,{basename:"ra-11.1",children:Object(A.jsx)("div",{className:"App",children:Object(A.jsxs)(U.d,{children:[Object(A.jsx)(U.b,{exact:!0,path:"/services",component:K}),Object(A.jsx)(U.b,{path:"/services/edit/:id",component:function(e){return Object(A.jsx)(Y,Object(s.a)({},e))}}),Object(A.jsx)(U.a,{to:"/services"})]})})})})},$=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),i(e),a(e)}))};a.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)(Z,{})}),document.getElementById("root")),$()}},[[62,1,2]]]);
//# sourceMappingURL=main.fad56185.chunk.js.map